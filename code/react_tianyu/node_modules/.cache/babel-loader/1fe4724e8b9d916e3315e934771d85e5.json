{"ast":null,"code":"var _jsxFileName = \"/Users/dyq/react/project/react_tianyu/src/pages/Home/Message/index.jsx\";\nimport React, { Component } from \"react\";\nimport { Link, Route } from \"react-router-dom\";\nimport Detail from \"./Detail\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Message extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      messageArr: [{\n        id: \"01\",\n        title: \"消息1\"\n      }, {\n        id: \"02\",\n        title: \"消息2\"\n      }, {\n        id: \"03\",\n        title: \"消息3\"\n      }]\n    };\n\n    this.replaceShow = (id, title) => {\n      //编写一段代码，让其实现跳转到Detail组件，且为replace跳转\n      //即手动操作history对象\n      //replace跳转+携带params参数\n      // this.props.history.replace(`/home/message/detail/${id}/${title}`);\n      //replace跳转+携带params参数\n      // this.props.history.replace(`/home/message/detail?id=${id}&title=${title}`);\n      //replace跳转+携带state参数\n      this.props.history.replace(`/home/message/detail`, {\n        id,\n        title\n      });\n    };\n\n    this.pushShow = (id, title) => {\n      return () => {\n        //push跳转+携带params参数\n        // this.props.history.push(`/home/message/detail/${id}/${title}`);\n        //push跳转+携带search参数\n        // this.props.history.push(`/home/message/detail?id=${id}&title=${title}`);\n        //push跳转+携带search参数\n        console.log(this.props);\n        this.props.history.push(`/home/message/detail`, {\n          id,\n          title\n        });\n      };\n    };\n\n    this.back = () => {\n      this.props.history.goBack();\n    };\n\n    this.forward = () => {\n      this.props.history.forward();\n    };\n  }\n\n  render() {\n    const {\n      messageArr\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        children: messageArr.map(msgObj => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/home/message/detail/${msgObj.id}/${msgObj.title}`,\n              children: msgObj.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.pushShow(msgObj.id, msgObj.title),\n              children: \"push\\u67E5\\u770B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.replaceShow(msgObj.id, msgObj.title),\n              children: \"replace\\u67E5\\u770B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, msgObj.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/home/message/detail\",\n        component: Detail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.back,\n        children: \"\\u56DE\\u9000\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.forward,\n        children: \"\\u524D\\u8FDB\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/dyq/react/project/react_tianyu/src/pages/Home/Message/index.jsx"],"names":["React","Component","Link","Route","Detail","Message","state","messageArr","id","title","replaceShow","props","history","replace","pushShow","console","log","push","back","goBack","forward","render","map","msgObj"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, Route } from \"react-router-dom\";\n\nimport Detail from \"./Detail\";\n\nexport default class Message extends Component {\n  state = {\n    messageArr: [\n      { id: \"01\", title: \"消息1\" },\n      { id: \"02\", title: \"消息2\" },\n      { id: \"03\", title: \"消息3\" },\n    ],\n  };\n\n  replaceShow = (id, title) => {\n    //编写一段代码，让其实现跳转到Detail组件，且为replace跳转\n    //即手动操作history对象\n\n    //replace跳转+携带params参数\n    // this.props.history.replace(`/home/message/detail/${id}/${title}`);\n\n    //replace跳转+携带params参数\n    // this.props.history.replace(`/home/message/detail?id=${id}&title=${title}`);\n\n    //replace跳转+携带state参数\n    this.props.history.replace(`/home/message/detail`, { id, title });\n  };\n\n  //高阶的形式\n  pushShow = (id, title) => {\n    return () => {\n      //push跳转+携带params参数\n      // this.props.history.push(`/home/message/detail/${id}/${title}`);\n\n      //push跳转+携带search参数\n      // this.props.history.push(`/home/message/detail?id=${id}&title=${title}`);\n\n      //push跳转+携带search参数\n      console.log(this.props);\n      this.props.history.push(`/home/message/detail`, { id, title });\n    };\n  };\n\n  back =() => {\n    this.props.history.goBack();\n  }\n\n\n  forward =() => {\n    this.props.history.forward();\n  }\n\n  render() {\n    const { messageArr } = this.state;\n    return (\n      <div>\n        <ul>\n          {messageArr.map((msgObj) => {\n            return (\n              <li key={msgObj.id}>\n                {/* 向路由组件传递params参数 */}\n                <Link to={`/home/message/detail/${msgObj.id}/${msgObj.title}`}>\n                  {msgObj.title}\n                </Link>\n                &nbsp;\n                <button onClick={this.pushShow(msgObj.id, msgObj.title)}>\n                  push查看\n                </button>\n                &nbsp;\n                <button\n                  onClick={() => this.replaceShow(msgObj.id, msgObj.title)}\n                >\n                  replace查看\n                </button>\n                {/* 向路由组件传递search参数，像是query*/}\n                {/* <Link\n                  to={`/home/message/detail/?id=${msgObj.id}&title=${msgObj.title}`}\n                >\n                  {msgObj.title}\n                </Link> */}\n                {/* 向路由组件传递state参数 */}\n                {/* 传递一个对象给to，并且注意是pathname */}\n                {/* <Link replace={true} to={{pathname:'/home/message/detail',state:{id:msgObj.id,title:msgObj.title}}}>\n                  {msgObj.title}\n                </Link> */}\n              </li>\n            );\n          })}\n        </ul>\n        <hr />\n\n        {/* 注册路由 */}\n\n        {/* 声明接收params参数 */}\n        {/* <Route\n          path=\"/home/message/detail/:id/:title\"\n          component={Detail}\n        ></Route> */}\n\n        {/* search参数无需声明接收，正常注册路由即可*/}\n        {/* <Route path=\"/home/message/detail\" component={Detail} /> */}\n\n        {/* state参数无需声明接收，正常注册路由即可*/}\n        <Route path=\"/home/message/detail\" component={Detail}/>\n\n        <button onClick={this.back}>回退</button>\n        <button onClick={this.forward}>前进</button>\n\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}