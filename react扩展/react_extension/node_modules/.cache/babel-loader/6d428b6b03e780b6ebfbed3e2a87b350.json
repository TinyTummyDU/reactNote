{"ast":null,"code":"import _classCallCheck from\"/Users/dyq/Desktop/react/react\\u6269\\u5C55/react_extension/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/dyq/Desktop/react/react\\u6269\\u5C55/react_extension/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/dyq/Desktop/react/react\\u6269\\u5C55/react_extension/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/dyq/Desktop/react/react\\u6269\\u5C55/react_extension/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Child from'./Child';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Parent=/*#__PURE__*/function(_Component){_inherits(Parent,_Component);var _super=_createSuper(Parent);function Parent(){var _this;_classCallCheck(this,Parent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={hasError:''};return _this;}_createClass(Parent,[{key:\"componentDidCatch\",value://做的更好\nfunction componentDidCatch(){console.log('渲染组件时出错');}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u6211\\u662FParent\\u7EC4\\u4EF6\"}),this.state.hasError?/*#__PURE__*/_jsx(\"h2\",{children:\"\\u5F53\\u524D\\u7F51\\u7EDC\\u4E0D\\u7A33\\u5B9A\"}):/*#__PURE__*/_jsx(Child,{})]});}}],[{key:\"getDerivedStateFromError\",value://用于标识子组件是否有错误\n//如果Parent的子组件出现错误，就会调用这个钩子\n//并且会携带错误信息\nfunction getDerivedStateFromError(error){// 过了一会还是会出问题，这是为什么，因为这个错误边界不使用于开发环境，只适用于生产环境。\nconsole.log('@@@',error);return{hasError:error};}}]);return Parent;}(Component);export{Parent as default};","map":{"version":3,"sources":["/Users/dyq/Desktop/react/react扩展/react_extension/src/components/8_errorBoundary/Parent.jsx"],"names":["React","Component","Child","Parent","state","hasError","console","log","error"],"mappings":"gjBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,2FACqBC,CAAAA,M,2TAMjBC,K,CAAQ,CAACC,QAAQ,CAAC,EAAV,C,mEAUR;AACA,4BAAmB,CACfC,OAAO,CAACC,GAAR,CAAY,SAAZ,EACH,C,sBAED,iBAAS,CACL,mBACI,oCACI,sDADJ,CAEK,KAAKH,KAAL,CAAWC,QAAX,cAAqB,kEAArB,cAAwC,KAAC,KAAD,IAF7C,GADJ,CAMH,C,0CAtBqB;AAEtB;AACA;AACA,kCAAgCG,KAAhC,CAAsC,CAClC;AACAF,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAkBC,KAAlB,EACA,MAAO,CAACH,QAAQ,CAACG,KAAV,CAAP,CACH,C,oBAd+BP,S,SAAfE,M","sourcesContent":["import React, { Component } from 'react'\nimport Child from './Child'\nexport default class Parent extends Component {\n\n    //如果state的值任何时候都取决于取决于props就用这个钩子\n    // static getDerivedStateFromProps(){\n    // }\n\n    state = {hasError:''} //用于标识子组件是否有错误\n\n    //如果Parent的子组件出现错误，就会调用这个钩子\n    //并且会携带错误信息\n    static getDerivedStateFromError(error){\n        // 过了一会还是会出问题，这是为什么，因为这个错误边界不使用于开发环境，只适用于生产环境。\n        console.log('@@@',error);\n        return {hasError:error}\n    }\n\n    //做的更好\n    componentDidCatch(){\n        console.log('渲染组件时出错');\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>我是Parent组件</h2>\n                {this.state.hasError? <h2>当前网络不稳定</h2> : <Child/>}\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}